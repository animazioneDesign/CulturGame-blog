
# CulturGame Blog


## Run the local website

`$ gulp`


## Env setup

1. Install [Node.js](https://nodejs.org)
2. Install gulp command line `$ sudo npm install --global gulp-cli`

## Dev packages install

package.json init: `$ npm init`

Install packages: `$ npm install package --save-dev`

Remove packages `$ npm uninstall package --save-dev`

Install all the packages from the packages.json: `$ npm install`


## Dev info

The website uses Stylus as CSS language. It is compiled and output as main.css file for the website in assets/css

With Stylus everything is split, each template has its own .styl file, as well for colors, responsive, ...

Use the approach of mobile first!!! That means that in the CSS/styl the first roule you add is for the mobile, and you change it just if it's necessary for tablet/desktop! Very important, it makes the code work always and it requires way less code.

To indicate another roule for tablet for example, use the function +media(tablet-v) to modify the base mobile roule. You find the brakepoints name in the assets/styl/base/responsive.styl file. There you can change the brakepoints. The one indicate works very well btw.

Example of stylus responsive roule (btw stylus uses indents (TAB key), so keep them right! no {} or ; necessary):

```
#about
	p
		width 100%  // mobile roule, default

		+media(tablet-h)
			width 50%	// roule applied above tablet-h brakpoint up to the next one if present below (desktop for example)

		+media(desktop)
			width 33%  // roule applied above desktop breakpoint

```

So the responsive works upwords, so +media("breakpoint") indicate that ABOWE the xxxx px breakpoint other roule will be used at the place of the previous one (actually is redefined).

Because of the nature of code, what comes after is what counts, so that works for mobile first coding approach by indicating new rules afterwards in cascade. In this specific case the +media("breakpoint") are defined as @media (min-width: breakpoint), so it works upwords as described before. Alway indicate mobile (default) then tablet, then desktop roules in this order

All the info [about stylus](https://stylus-lang.com/)


### gulp.js

Gulp use the node_modules to build and compile the stylus files in a final CSS used by the website (see head.php below). Gulp refers to assets/styl/main.styl to compile the main.css. In main.styl there are all the single template/snippets .styl files.


# Webiste structure

### /assets

JS, CSS, Stylus files all separated

### /content

It's the main file based database in markdown. Basically everything here is generated from the website iself using the panel, normally there is no manual intervention here

### /kirby

Official kirby core, nothing to touch

### /media

Temporary thmbnails generated by kirby, nothing to touch (eventually erase everything if the files aren't updatening properly)

### /node_modules

Extra node modules used to generate the css and run the website, automated folder

### /site

Main folder containing the blueprints (panel "forms" structure written in YAML), pages templates (actual html/php page structure, no css or js here), snippets (repeating parts that makes sense to split for maintenance, like footer, header, head, ...).

Snippets are imported in the templates using `<?php snippet('footer') ?>`

Usual snippets: head (title, meta, css/js link), header (add in intself the head at the beginning and normally contains the nav menu), footer

#### head.php

```
<!doctype html>
<html lang="en" class="no-js">

<head>
	<meta ....>
	<title></title>
	<link ...>

	<!-- stylesheet links -->
	<?= css('assets/css/main.css') ?>
</head>

```

#### header.php

```
<?php snippet('head') ?>

<header>
	<nav>
		<ul>
			<li>....</li>
			....
		</ul>
	</nav>
</header>

```

#### footer.php

```
<footer>
	<div>.....</div>
</footer>
```

#### any_page_template.php
```
<?php snippet('header') ?>

<body>

	<main>
	<h1>....</h1>

	<section, article, div, ....></...>

	</main>

<?php snippet('footer') ?>

</body>
```

Blueprint and template file name has to match to automatically be recognised (portfolio.yml, portfolio.php). This will generate a markdown file that use this blueprint/template in the content folder (portfolio.md) once that form the panel a new page with this template is created.

#### /site/config

Main config file, where to indicate to allow the installation of the panel, activate de debug mode, add the sitemap, ...

All the other folders in the /site are not necessary to know about. Just for advanced stuffs



---------------------------


# Kirby Plainkit

Kirby is a file-based CMS.
Easy to setup. Easy to use. Flexible as hell.

## Trial

You can try Kirby on your local machine or on a test
server as long as you need to make sure it is the right
tool for your next project.

## Buy a license

You can purchase your Kirby license at
<https://getkirby.com/buy>

A Kirby license is valid for a single domain. You can find
Kirby's license agreement here: <https://getkirby.com/license>

## The Plainkit

Kirby's Plainkit is the most minimal setup you can get started with.
It does not include any content, styles or other kinds of decoration,
so it's perfect to use this as a starting point for your own project.

## The Panel

You can find the login for Kirby's admin interface at
http://yourdomain.com/panel. You will be guided through the signup
process for your first user, when you visit the panel
for the first time.

## Installation

Kirby does not require a database, which makes it very easy to
install. Just copy Kirby's files to your server and visit the
URL for your website in the browser.

**Please check if the invisible .htaccess file has been
copied to your server correctly**

### Requirements

Kirby runs on PHP 7.1+, Apache or Nginx.

### Download

You can download the latest version of the Plainkit
from https://github.com/getkirby/plainkit/archive/master.zip

### With Git

If you are familiar with Git, you can clone Kirby's
Plainkit repository from Github.

    git clone https://github.com/getkirby/plainkit.git

## Documentation

<https://getkirby.com/docs>

## Issues

If you have a Github account, please report issues
directly on Github: <https://github.com/getkirby/kirby/issues>

Otherwise you can use Kirby's forum: https://forum.getkirby.com
or send us an email: <support@getkirby.com>

## Ideas & Feature Requests

If you have ideas for new features, please submit a ticket in our ideas repository:
<https://github.com/getkirby/kirby/ideas>

## Support

<https://getkirby.com/support>

## Copyright

Â© 2009-2019 Bastian Allgeier (Bastian Allgeier GmbH)
<https://getkirby.com>



